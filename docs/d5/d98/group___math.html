<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FastLED: Basic Math Operations</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../fastled_logo.png" type="image/svg+xml" rel="shortcut icon" />
<link href="../../fastled-docs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">DoxygenAwesomeDarkModeToggle.init()</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../fastled_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">FastLED<span id="projectnumber">&#160;3.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d5/d98/group___math.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Basic Math Operations<div class="ingroups"><a class="el" href="../../df/da2/group__lib8tion.html">Fast Math Functions</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Fast, efficient 8-bit math functions specifically designed for high-performance LED programming. </p>
<p>Because of the AVR (Arduino) and ARM assembly language implementations provided, using these functions often results in smaller and faster code than the equivalent program using plain "C" arithmetic and logic. </p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Basic Math Operations:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 0 --></div>
</div>
<table class="memberdecls">
<tr class="memitem:ga07133b3085824d0fcd4f5086d286c4b5" id="r_ga07133b3085824d0fcd4f5086d286c4b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga07133b3085824d0fcd4f5086d286c4b5">qadd8</a> (uint8_t i, uint8_t j)</td></tr>
<tr class="memdesc:ga07133b3085824d0fcd4f5086d286c4b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add one byte to another, saturating at 0xFF.  <br /></td></tr>
<tr class="separator:ga07133b3085824d0fcd4f5086d286c4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga622205a211419db7dd1f582923aec68d" id="r_ga622205a211419db7dd1f582923aec68d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga622205a211419db7dd1f582923aec68d">qadd7</a> (int8_t i, int8_t j)</td></tr>
<tr class="memdesc:ga622205a211419db7dd1f582923aec68d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add one byte to another, saturating at 0x7F and -0x80.  <br /></td></tr>
<tr class="separator:ga622205a211419db7dd1f582923aec68d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae261576a4c8155d6c0ba8615b2d2ecb3" id="r_gae261576a4c8155d6c0ba8615b2d2ecb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae261576a4c8155d6c0ba8615b2d2ecb3">qsub8</a> (uint8_t i, uint8_t j)</td></tr>
<tr class="memdesc:gae261576a4c8155d6c0ba8615b2d2ecb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtract one byte from another, saturating at 0x00.  <br /></td></tr>
<tr class="separator:gae261576a4c8155d6c0ba8615b2d2ecb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga703ea9255d0701cc154e110ae00dea04" id="r_ga703ea9255d0701cc154e110ae00dea04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga703ea9255d0701cc154e110ae00dea04">add8</a> (uint8_t i, uint8_t j)</td></tr>
<tr class="memdesc:ga703ea9255d0701cc154e110ae00dea04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add one byte to another, with 8-bit result.  <br /></td></tr>
<tr class="separator:ga703ea9255d0701cc154e110ae00dea04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad22eab15c00c933402a200e5abd36a31" id="r_gad22eab15c00c933402a200e5abd36a31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad22eab15c00c933402a200e5abd36a31">add8to16</a> (uint8_t i, uint16_t j)</td></tr>
<tr class="memdesc:gad22eab15c00c933402a200e5abd36a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add one byte to two bytes, with 16-bit result.  <br /></td></tr>
<tr class="separator:gad22eab15c00c933402a200e5abd36a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2d87829a6327876eed4482aa515dfa9" id="r_gad2d87829a6327876eed4482aa515dfa9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad2d87829a6327876eed4482aa515dfa9">sub8</a> (uint8_t i, uint8_t j)</td></tr>
<tr class="memdesc:gad2d87829a6327876eed4482aa515dfa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtract one byte from another, 8-bit result.  <br /></td></tr>
<tr class="separator:gad2d87829a6327876eed4482aa515dfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga624651f796f4cf0755c8cbdb794e41d9" id="r_ga624651f796f4cf0755c8cbdb794e41d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga624651f796f4cf0755c8cbdb794e41d9">avg8</a> (uint8_t i, uint8_t j)</td></tr>
<tr class="memdesc:ga624651f796f4cf0755c8cbdb794e41d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate an integer average of two unsigned 8-bit integer values (uint8_t), rounded down.  <br /></td></tr>
<tr class="separator:ga624651f796f4cf0755c8cbdb794e41d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f46842559931ff842c8f9a310174a3a" id="r_ga1f46842559931ff842c8f9a310174a3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f46842559931ff842c8f9a310174a3a">avg16</a> (uint16_t i, uint16_t j)</td></tr>
<tr class="memdesc:ga1f46842559931ff842c8f9a310174a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate an integer average of two unsigned 16-bit integer values (uint16_t), rounded down.  <br /></td></tr>
<tr class="separator:ga1f46842559931ff842c8f9a310174a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80651a06db27361aafe7d245ee9d230e" id="r_ga80651a06db27361aafe7d245ee9d230e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga80651a06db27361aafe7d245ee9d230e">avg8r</a> (uint8_t i, uint8_t j)</td></tr>
<tr class="memdesc:ga80651a06db27361aafe7d245ee9d230e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate an integer average of two unsigned 8-bit integer values (uint8_t), rounded up.  <br /></td></tr>
<tr class="separator:ga80651a06db27361aafe7d245ee9d230e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38731cb7b716351f292b46a482ff1ee1" id="r_ga38731cb7b716351f292b46a482ff1ee1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga38731cb7b716351f292b46a482ff1ee1">avg16r</a> (uint16_t i, uint16_t j)</td></tr>
<tr class="memdesc:ga38731cb7b716351f292b46a482ff1ee1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate an integer average of two unsigned 16-bit integer values (uint16_t), rounded up.  <br /></td></tr>
<tr class="separator:ga38731cb7b716351f292b46a482ff1ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7af6a5b49aef34ab79e850ddb7d7911" id="r_gad7af6a5b49aef34ab79e850ddb7d7911"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad7af6a5b49aef34ab79e850ddb7d7911">avg7</a> (int8_t i, int8_t j)</td></tr>
<tr class="memdesc:gad7af6a5b49aef34ab79e850ddb7d7911"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate an integer average of two signed 7-bit integers (int8_t).  <br /></td></tr>
<tr class="separator:gad7af6a5b49aef34ab79e850ddb7d7911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ad60cb8a09e6aab6d63f1a0930bee09" id="r_ga2ad60cb8a09e6aab6d63f1a0930bee09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2ad60cb8a09e6aab6d63f1a0930bee09">avg15</a> (int16_t i, int16_t j)</td></tr>
<tr class="memdesc:ga2ad60cb8a09e6aab6d63f1a0930bee09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate an integer average of two signed 15-bit integers (int16_t).  <br /></td></tr>
<tr class="separator:ga2ad60cb8a09e6aab6d63f1a0930bee09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3beb6c31141a13c1a047b926d065ca2" id="r_gaa3beb6c31141a13c1a047b926d065ca2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa3beb6c31141a13c1a047b926d065ca2">mod8</a> (uint8_t a, uint8_t m)</td></tr>
<tr class="memdesc:gaa3beb6c31141a13c1a047b926d065ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the remainder of one unsigned 8-bit value divided by anoter, aka A % M.  <br /></td></tr>
<tr class="separator:gaa3beb6c31141a13c1a047b926d065ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bcd51c47538dbc933999382e272a7a7" id="r_ga2bcd51c47538dbc933999382e272a7a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gac735bdef91ee1e80778434336a622138">LIB8STATIC</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2bcd51c47538dbc933999382e272a7a7">addmod8</a> (uint8_t a, uint8_t b, uint8_t m)</td></tr>
<tr class="memdesc:ga2bcd51c47538dbc933999382e272a7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add two numbers, and calculate the modulo of the sum and a third number, M.  <br /></td></tr>
<tr class="separator:ga2bcd51c47538dbc933999382e272a7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga810cba6ac8e4f5c8a97cd41e9bb113b4" id="r_ga810cba6ac8e4f5c8a97cd41e9bb113b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gac735bdef91ee1e80778434336a622138">LIB8STATIC</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga810cba6ac8e4f5c8a97cd41e9bb113b4">submod8</a> (uint8_t a, uint8_t b, uint8_t m)</td></tr>
<tr class="memdesc:ga810cba6ac8e4f5c8a97cd41e9bb113b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtract two numbers, and calculate the modulo of the difference and a third number, M.  <br /></td></tr>
<tr class="separator:ga810cba6ac8e4f5c8a97cd41e9bb113b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf170916b55c493ea038c1d96b338e059" id="r_gaf170916b55c493ea038c1d96b338e059"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf170916b55c493ea038c1d96b338e059">mul8</a> (uint8_t i, uint8_t j)</td></tr>
<tr class="memdesc:gaf170916b55c493ea038c1d96b338e059"><td class="mdescLeft">&#160;</td><td class="mdescRight">8x8 bit multiplication, with 8-bit result.  <br /></td></tr>
<tr class="separator:gaf170916b55c493ea038c1d96b338e059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17d0d692de142f4d4379b8cc899eaefb" id="r_ga17d0d692de142f4d4379b8cc899eaefb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga17d0d692de142f4d4379b8cc899eaefb">qmul8</a> (uint8_t i, uint8_t j)</td></tr>
<tr class="memdesc:ga17d0d692de142f4d4379b8cc899eaefb"><td class="mdescLeft">&#160;</td><td class="mdescRight">8x8 bit multiplication with 8-bit result, saturating at 0xFF.  <br /></td></tr>
<tr class="separator:ga17d0d692de142f4d4379b8cc899eaefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga162169ac0c2d1f3d01eaff8f32e1b415" id="r_ga162169ac0c2d1f3d01eaff8f32e1b415"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga162169ac0c2d1f3d01eaff8f32e1b415">abs8</a> (int8_t i)</td></tr>
<tr class="memdesc:ga162169ac0c2d1f3d01eaff8f32e1b415"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take the absolute value of a signed 8-bit uint8_t.  <br /></td></tr>
<tr class="separator:ga162169ac0c2d1f3d01eaff8f32e1b415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66ecef97faa5f9b92c49766651c5afe9" id="r_ga66ecef97faa5f9b92c49766651c5afe9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gac735bdef91ee1e80778434336a622138">LIB8STATIC</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga66ecef97faa5f9b92c49766651c5afe9">sqrt16</a> (uint16_t <a class="el" href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a>)</td></tr>
<tr class="memdesc:ga66ecef97faa5f9b92c49766651c5afe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Square root for 16-bit integers.  <br /></td></tr>
<tr class="separator:ga66ecef97faa5f9b92c49766651c5afe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7c7302374c7a8d9f4f94a23510b0b07" id="r_gab7c7302374c7a8d9f4f94a23510b0b07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab7c7302374c7a8d9f4f94a23510b0b07">sqrt8</a> (uint8_t <a class="el" href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a>)</td></tr>
<tr class="separator:gab7c7302374c7a8d9f4f94a23510b0b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a604de042246d6c87fdbfdd5578f377" id="r_ga9a604de042246d6c87fdbfdd5578f377"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da2/group__lib8tion.html#gac735bdef91ee1e80778434336a622138">LIB8STATIC</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9a604de042246d6c87fdbfdd5578f377">blend8</a> (uint8_t a, uint8_t b, uint8_t amountOfB)</td></tr>
<tr class="memdesc:ga9a604de042246d6c87fdbfdd5578f377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blend a variable proportion (0-255) of one byte to another.  <br /></td></tr>
<tr class="separator:ga9a604de042246d6c87fdbfdd5578f377"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga162169ac0c2d1f3d01eaff8f32e1b415" name="ga162169ac0c2d1f3d01eaff8f32e1b415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga162169ac0c2d1f3d01eaff8f32e1b415">&#9670;&#160;</a></span>abs8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> int8_t abs8 </td>
          <td>(</td>
          <td class="paramtype">int8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take the absolute value of a signed 8-bit uint8_t. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00500">500</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  500</span>                                               {</div>
<div class="line"><span class="lineno">  501</span><span class="preprocessor">#if ABS8_C == 1</span></div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordflow">if</span> (i &lt; 0)</div>
<div class="line"><span class="lineno">  503</span>        i = -i;</div>
<div class="line"><span class="lineno">  504</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  505</span><span class="preprocessor">#elif ABS8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  506</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  507</span>        <span class="comment">/* First, check the high bit, and prepare to skip if it&#39;s clear */</span></div>
<div class="line"><span class="lineno">  508</span>        <span class="stringliteral">&quot;sbrc %0, 7 \n&quot;</span></div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>        <span class="comment">/* Negate the value */</span></div>
<div class="line"><span class="lineno">  511</span>        <span class="stringliteral">&quot;neg %0     \n&quot;</span></div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>        : <span class="stringliteral">&quot;+r&quot;</span>(i)</div>
<div class="line"><span class="lineno">  514</span>        : <span class="stringliteral">&quot;r&quot;</span>(i));</div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  516</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  517</span><span class="preprocessor">#error &quot;No implementation for abs8 available.&quot;</span></div>
<div class="line"><span class="lineno">  518</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  519</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga703ea9255d0701cc154e110ae00dea04" name="ga703ea9255d0701cc154e110ae00dea04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga703ea9255d0701cc154e110ae00dea04">&#9670;&#160;</a></span>add8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t add8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add one byte to another, with 8-bit result. </p>
<dl class="section note"><dt>Note</dt><dd>This does not saturate and may overflow! </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first byte to add </td></tr>
    <tr><td class="paramname">j</td><td>second byte to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sum of i + j, 8-bit </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00135">135</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>                                                            {</div>
<div class="line"><span class="lineno">  136</span><span class="preprocessor">#if ADD8_C == 1</span></div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordtype">int</span> t = i + j;</div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">return</span> t;</div>
<div class="line"><span class="lineno">  139</span><span class="preprocessor">#elif ADD8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  140</span>    <span class="comment">// Add j to i, period.</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;add %0, %1&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(i) : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  143</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  144</span><span class="preprocessor">#error &quot;No implementation for add8 available.&quot;</span></div>
<div class="line"><span class="lineno">  145</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  146</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad22eab15c00c933402a200e5abd36a31" name="gad22eab15c00c933402a200e5abd36a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad22eab15c00c933402a200e5abd36a31">&#9670;&#160;</a></span>add8to16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint16_t add8to16 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add one byte to two bytes, with 16-bit result. </p>
<dl class="section note"><dt>Note</dt><dd>This does not saturate and may overflow! </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first value to add, 8-bit </td></tr>
    <tr><td class="paramname">j</td><td>second value to add, 16-bit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sum of i + j, 16-bit </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00153">153</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>                                                                  {</div>
<div class="line"><span class="lineno">  154</span><span class="preprocessor">#if ADD8_C == 1</span></div>
<div class="line"><span class="lineno">  155</span>    uint16_t t = i + j;</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">return</span> t;</div>
<div class="line"><span class="lineno">  157</span><span class="preprocessor">#elif ADD8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  158</span>    <span class="comment">// Add i(one byte) to j(two bytes)</span></div>
<div class="line"><span class="lineno">  159</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;add %A[j], %[i]              \n\t&quot;</span></div>
<div class="line"><span class="lineno">  160</span>                 <span class="stringliteral">&quot;adc %B[j], __zero_reg__      \n\t&quot;</span></div>
<div class="line"><span class="lineno">  161</span>                 : [j] <span class="stringliteral">&quot;+r&quot;</span>(j)</div>
<div class="line"><span class="lineno">  162</span>                 : [i] <span class="stringliteral">&quot;r&quot;</span>(i));</div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  164</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  165</span><span class="preprocessor">#error &quot;No implementation for add8to16 available.&quot;</span></div>
<div class="line"><span class="lineno">  166</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  167</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2bcd51c47538dbc933999382e272a7a7" name="ga2bcd51c47538dbc933999382e272a7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bcd51c47538dbc933999382e272a7a7">&#9670;&#160;</a></span>addmod8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gac735bdef91ee1e80778434336a622138">LIB8STATIC</a> uint8_t addmod8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>m</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add two numbers, and calculate the modulo of the sum and a third number, M. </p>
<p>In other words, it returns (A+B) % M. It is designed as a compact mechanism for incrementing a "mode" switch and wrapping around back to "mode 0" when the switch goes past the end of the available range. e.g. if you have seven modes, this switches to the next one and wraps around if needed: </p><div class="fragment"><div class="line">mode = <a class="code hl_function" href="#ga2bcd51c47538dbc933999382e272a7a7">addmod8</a>( mode, 1, 7);</div>
<div class="ttc" id="agroup___math_html_ga2bcd51c47538dbc933999382e272a7a7"><div class="ttname"><a href="#ga2bcd51c47538dbc933999382e272a7a7">addmod8</a></div><div class="ttdeci">LIB8STATIC uint8_t addmod8(uint8_t a, uint8_t b, uint8_t m)</div><div class="ttdoc">Add two numbers, and calculate the modulo of the sum and a third number, M.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dd1/math8_8h_source.html#l00392">math8.h:392</a></div></div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>dividend byte </td></tr>
    <tr><td class="paramname">b</td><td>value to add to the dividend </td></tr>
    <tr><td class="paramname">m</td><td>divisor byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>remainder of (a + b) / m </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gaa3beb6c31141a13c1a047b926d065ca2" title="Calculate the remainder of one unsigned 8-bit value divided by anoter, aka A % M.">mod8()</a> for notes on performance. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/d61/_twinkle_fox_8ino-example.html#a72">TwinkleFox.ino</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00392">392</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  392</span>                                                            {</div>
<div class="line"><span class="lineno">  393</span><span class="preprocessor">#if defined(__AVR__)</span></div>
<div class="line"><span class="lineno">  394</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;       add %[a],%[b]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  395</span>                 <span class="stringliteral">&quot;L_%=:  sub %[a],%[m]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  396</span>                 <span class="stringliteral">&quot;       brcc L_%=        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  397</span>                 <span class="stringliteral">&quot;       add %[a],%[m]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  398</span>                 : [a] <span class="stringliteral">&quot;+r&quot;</span>(a)</div>
<div class="line"><span class="lineno">  399</span>                 : [b] <span class="stringliteral">&quot;r&quot;</span>(b), [m] <span class="stringliteral">&quot;r&quot;</span>(m));</div>
<div class="line"><span class="lineno">  400</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  401</span>    a += b;</div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordflow">while</span> (a &gt;= m)</div>
<div class="line"><span class="lineno">  403</span>        a -= m;</div>
<div class="line"><span class="lineno">  404</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  405</span>    <span class="keywordflow">return</span> a;</div>
<div class="line"><span class="lineno">  406</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d4/dd0/_twinkle_fox_8ino_source.html#l00376">chooseNextColorPalette()</a>, and <a class="el" href="../../d1/df6/twinklefox_8h_source.html#l00300">fl::TwinkleFox::chooseNextColorPalette()</a>.</p>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 1 --></div>
</div>

</div>
</div>
<a id="ga2ad60cb8a09e6aab6d63f1a0930bee09" name="ga2ad60cb8a09e6aab6d63f1a0930bee09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ad60cb8a09e6aab6d63f1a0930bee09">&#9670;&#160;</a></span>avg15()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> int16_t avg15 </td>
          <td>(</td>
          <td class="paramtype">int16_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate an integer average of two signed 15-bit integers (int16_t). </p>
<p>If the first argument is even, result is rounded down. If the first argument is odd, result is rounded up. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first value to average </td></tr>
    <tr><td class="paramname">j</td><td>second value to average </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mean average of i and j, rounded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00328">328</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  328</span>                                                             {</div>
<div class="line"><span class="lineno">  329</span><span class="preprocessor">#if AVG15_C == 1</span></div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">return</span> (i &gt;&gt; 1) + (j &gt;&gt; 1) + (i &amp; 0x1);</div>
<div class="line"><span class="lineno">  331</span><span class="preprocessor">#elif AVG15_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  332</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  333</span>        <span class="comment">/* first divide j by 2, throwing away lowest bit */</span></div>
<div class="line"><span class="lineno">  334</span>        <span class="stringliteral">&quot;asr %B[j]          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  335</span>        <span class="stringliteral">&quot;ror %A[j]          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  336</span>        <span class="comment">/* now divide i by 2, with lowest bit going into C */</span></div>
<div class="line"><span class="lineno">  337</span>        <span class="stringliteral">&quot;asr %B[i]          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  338</span>        <span class="stringliteral">&quot;ror %A[i]          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  339</span>        <span class="comment">/* add j + C to i */</span></div>
<div class="line"><span class="lineno">  340</span>        <span class="stringliteral">&quot;adc %A[i], %A[j]   \n\t&quot;</span></div>
<div class="line"><span class="lineno">  341</span>        <span class="stringliteral">&quot;adc %B[i], %B[j]   \n\t&quot;</span></div>
<div class="line"><span class="lineno">  342</span>        : [i] <span class="stringliteral">&quot;+r&quot;</span>(i)</div>
<div class="line"><span class="lineno">  343</span>        : [j] <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  345</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  346</span><span class="preprocessor">#error &quot;No implementation for avg15 available.&quot;</span></div>
<div class="line"><span class="lineno">  347</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  348</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga1f46842559931ff842c8f9a310174a3a" name="ga1f46842559931ff842c8f9a310174a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f46842559931ff842c8f9a310174a3a">&#9670;&#160;</a></span>avg16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint16_t avg16 </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate an integer average of two unsigned 16-bit integer values (uint16_t), rounded down. </p>
<p>Fractional results are rounded down, e.g. avg16(20,41) = 30 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first value to average </td></tr>
    <tr><td class="paramname">j</td><td>second value to average </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mean average of i and j, rounded down </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00216">216</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  216</span>                                                                {</div>
<div class="line"><span class="lineno">  217</span><span class="preprocessor">#if AVG16_C == 1</span></div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">return</span> (uint32_t)((uint32_t)(i) + (uint32_t)(j)) &gt;&gt; 1;</div>
<div class="line"><span class="lineno">  219</span><span class="preprocessor">#elif AVG16_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  220</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  221</span>        <span class="comment">/* First, add jLo (heh) to iLo, 9th bit overflows into C flag */</span></div>
<div class="line"><span class="lineno">  222</span>        <span class="stringliteral">&quot;add %A[i], %A[j]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  223</span>        <span class="comment">/* Now, add C + jHi to iHi, 17th bit overflows into C flag */</span></div>
<div class="line"><span class="lineno">  224</span>        <span class="stringliteral">&quot;adc %B[i], %B[j]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  225</span>        <span class="comment">/* Divide iHi by two, moving C flag into high 16th bit, old 9th bit now</span></div>
<div class="line"><span class="lineno">  226</span><span class="comment">           in</span></div>
<div class="line"><span class="lineno">  227</span><span class="comment">           C */</span></div>
<div class="line"><span class="lineno">  228</span>        <span class="stringliteral">&quot;ror %B[i]        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  229</span>        <span class="comment">/* Divide iLo by two, moving C flag into high 8th bit */</span></div>
<div class="line"><span class="lineno">  230</span>        <span class="stringliteral">&quot;ror %A[i]        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  231</span>        : [i] <span class="stringliteral">&quot;+r&quot;</span>(i)</div>
<div class="line"><span class="lineno">  232</span>        : [j] <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  234</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  235</span><span class="preprocessor">#error &quot;No implementation for avg16 available.&quot;</span></div>
<div class="line"><span class="lineno">  236</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  237</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga38731cb7b716351f292b46a482ff1ee1" name="ga38731cb7b716351f292b46a482ff1ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38731cb7b716351f292b46a482ff1ee1">&#9670;&#160;</a></span>avg16r()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint16_t avg16r </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate an integer average of two unsigned 16-bit integer values (uint16_t), rounded up. </p>
<p>Fractional results are rounded up, e.g. avg16r(20,41) = 31 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first value to average </td></tr>
    <tr><td class="paramname">j</td><td>second value to average </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mean average of i and j, rounded up </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00271">271</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  271</span>                                                                 {</div>
<div class="line"><span class="lineno">  272</span><span class="preprocessor">#if AVG16R_C == 1</span></div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">return</span> (uint32_t)((uint32_t)(i) + (uint32_t)(j) + 1) &gt;&gt; 1;</div>
<div class="line"><span class="lineno">  274</span><span class="preprocessor">#elif AVG16R_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  275</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  276</span>        <span class="comment">/* First, add jLo (heh) to iLo, 9th bit overflows into C flag */</span></div>
<div class="line"><span class="lineno">  277</span>        <span class="stringliteral">&quot;add %A[i], %A[j]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  278</span>        <span class="comment">/* Now, add C + jHi to iHi, 17th bit overflows into C flag */</span></div>
<div class="line"><span class="lineno">  279</span>        <span class="stringliteral">&quot;adc %B[i], %B[j]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  280</span>        <span class="comment">/* Divide iHi by two, moving C flag into high 16th bit, old 9th bit now</span></div>
<div class="line"><span class="lineno">  281</span><span class="comment">           in</span></div>
<div class="line"><span class="lineno">  282</span><span class="comment">           C */</span></div>
<div class="line"><span class="lineno">  283</span>        <span class="stringliteral">&quot;ror %B[i]        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  284</span>        <span class="comment">/* Divide iLo by two, moving C flag into high 8th bit, old 1st bit now</span></div>
<div class="line"><span class="lineno">  285</span><span class="comment">           in</span></div>
<div class="line"><span class="lineno">  286</span><span class="comment">           C */</span></div>
<div class="line"><span class="lineno">  287</span>        <span class="stringliteral">&quot;ror %A[i]        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  288</span>        <span class="comment">/* Add C flag */</span></div>
<div class="line"><span class="lineno">  289</span>        <span class="stringliteral">&quot;adc %A[i], __zero_reg__\n\t&quot;</span></div>
<div class="line"><span class="lineno">  290</span>        <span class="stringliteral">&quot;adc %B[i], __zero_reg__\n\t&quot;</span></div>
<div class="line"><span class="lineno">  291</span>        : [i] <span class="stringliteral">&quot;+r&quot;</span>(i)</div>
<div class="line"><span class="lineno">  292</span>        : [j] <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  294</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  295</span><span class="preprocessor">#error &quot;No implementation for avg16r available.&quot;</span></div>
<div class="line"><span class="lineno">  296</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  297</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad7af6a5b49aef34ab79e850ddb7d7911" name="gad7af6a5b49aef34ab79e850ddb7d7911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7af6a5b49aef34ab79e850ddb7d7911">&#9670;&#160;</a></span>avg7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> int8_t avg7 </td>
          <td>(</td>
          <td class="paramtype">int8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate an integer average of two signed 7-bit integers (int8_t). </p>
<p>If the first argument is even, result is rounded down. If the first argument is odd, result is rounded up. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first value to average </td></tr>
    <tr><td class="paramname">j</td><td>second value to average </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mean average of i and j, rounded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00306">306</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  306</span>                                                         {</div>
<div class="line"><span class="lineno">  307</span><span class="preprocessor">#if AVG7_C == 1</span></div>
<div class="line"><span class="lineno">  308</span>    <span class="keywordflow">return</span> (i &gt;&gt; 1) + (j &gt;&gt; 1) + (i &amp; 0x1);</div>
<div class="line"><span class="lineno">  309</span><span class="preprocessor">#elif AVG7_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  310</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;asr %1        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  311</span>                 <span class="stringliteral">&quot;asr %0        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  312</span>                 <span class="stringliteral">&quot;adc %0, %1    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  313</span>                 : <span class="stringliteral">&quot;+r&quot;</span>(i)</div>
<div class="line"><span class="lineno">  314</span>                 : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  316</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  317</span><span class="preprocessor">#error &quot;No implementation for avg7 available.&quot;</span></div>
<div class="line"><span class="lineno">  318</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  319</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00278">grad8()</a>, <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00259">grad8()</a>, and <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00209">grad8()</a>.</p>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 2 --></div>
</div>

</div>
</div>
<a id="ga624651f796f4cf0755c8cbdb794e41d9" name="ga624651f796f4cf0755c8cbdb794e41d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga624651f796f4cf0755c8cbdb794e41d9">&#9670;&#160;</a></span>avg8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t avg8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate an integer average of two unsigned 8-bit integer values (uint8_t), rounded down. </p>
<p>Fractional results are rounded down, e.g. avg8(20,41) = 30 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first value to average </td></tr>
    <tr><td class="paramname">j</td><td>second value to average </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mean average of i and j, rounded down </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00193">193</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  193</span>                                                            {</div>
<div class="line"><span class="lineno">  194</span><span class="preprocessor">#if AVG8_C == 1</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">return</span> (i + j) &gt;&gt; 1;</div>
<div class="line"><span class="lineno">  196</span><span class="preprocessor">#elif AVG8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  197</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  198</span>        <span class="comment">/* First, add j to i, 9th bit overflows into C flag */</span></div>
<div class="line"><span class="lineno">  199</span>        <span class="stringliteral">&quot;add %0, %1    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  200</span>        <span class="comment">/* Divide by two, moving C flag into high 8th bit */</span></div>
<div class="line"><span class="lineno">  201</span>        <span class="stringliteral">&quot;ror %0        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  202</span>        : <span class="stringliteral">&quot;+r&quot;</span>(i)</div>
<div class="line"><span class="lineno">  203</span>        : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  205</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  206</span><span class="preprocessor">#error &quot;No implementation for avg8 available.&quot;</span></div>
<div class="line"><span class="lineno">  207</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  208</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga80651a06db27361aafe7d245ee9d230e" name="ga80651a06db27361aafe7d245ee9d230e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80651a06db27361aafe7d245ee9d230e">&#9670;&#160;</a></span>avg8r()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t avg8r </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate an integer average of two unsigned 8-bit integer values (uint8_t), rounded up. </p>
<p>Fractional results are rounded up, e.g. avg8r(20,41) = 31 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first value to average </td></tr>
    <tr><td class="paramname">j</td><td>second value to average </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mean average of i and j, rounded up </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00245">245</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  245</span>                                                             {</div>
<div class="line"><span class="lineno">  246</span><span class="preprocessor">#if AVG8R_C == 1</span></div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">return</span> (i + j + 1) &gt;&gt; 1;</div>
<div class="line"><span class="lineno">  248</span><span class="preprocessor">#elif AVG8R_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  249</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  250</span>        <span class="comment">/* First, add j to i, 9th bit overflows into C flag */</span></div>
<div class="line"><span class="lineno">  251</span>        <span class="stringliteral">&quot;add %0, %1          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  252</span>        <span class="comment">/* Divide by two, moving C flag into high 8th bit, old 1st bit now in C</span></div>
<div class="line"><span class="lineno">  253</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  254</span>        <span class="stringliteral">&quot;ror %0              \n\t&quot;</span></div>
<div class="line"><span class="lineno">  255</span>        <span class="comment">/* Add C flag */</span></div>
<div class="line"><span class="lineno">  256</span>        <span class="stringliteral">&quot;adc %0, __zero_reg__\n\t&quot;</span></div>
<div class="line"><span class="lineno">  257</span>        : <span class="stringliteral">&quot;+r&quot;</span>(i)</div>
<div class="line"><span class="lineno">  258</span>        : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  260</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  261</span><span class="preprocessor">#error &quot;No implementation for avg8r available.&quot;</span></div>
<div class="line"><span class="lineno">  262</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  263</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9a604de042246d6c87fdbfdd5578f377" name="ga9a604de042246d6c87fdbfdd5578f377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a604de042246d6c87fdbfdd5578f377">&#9670;&#160;</a></span>blend8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gac735bdef91ee1e80778434336a622138">LIB8STATIC</a> uint8_t blend8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>amountOfB</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blend a variable proportion (0-255) of one byte to another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>the starting byte value </td></tr>
    <tr><td class="paramname">b</td><td>the byte value to blend toward </td></tr>
    <tr><td class="paramname">amountOfB</td><td>the proportion (0-255) of b to blend </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a byte value between a and b, inclusive </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00667">667</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  667</span>                                                                   {</div>
<div class="line"><span class="lineno">  668</span>    <span class="comment">// This version loses precision in the integer math</span></div>
<div class="line"><span class="lineno">  669</span>    <span class="comment">// and can actually return results outside of the range</span></div>
<div class="line"><span class="lineno">  670</span>    <span class="comment">// from a to b.  Its use is not recommended.</span></div>
<div class="line"><span class="lineno">  671</span>    uint8_t result;</div>
<div class="line"><span class="lineno">  672</span>    uint8_t amountOfA = 255 - amountOfB;</div>
<div class="line"><span class="lineno">  673</span>    result = <a class="code hl_function" href="../../d0/da5/group___scaling_dirty.html#ga7386235cada3aca429b189681d2ec56d">scale8_LEAVING_R1_DIRTY</a>(a, amountOfA) +</div>
<div class="line"><span class="lineno">  674</span>             <a class="code hl_function" href="../../d0/da5/group___scaling_dirty.html#ga7386235cada3aca429b189681d2ec56d">scale8_LEAVING_R1_DIRTY</a>(b, amountOfB);</div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_function" href="../../d0/da5/group___scaling_dirty.html#ga3fade00fb4cf5b937b973128198a7a79">cleanup_R1</a>();</div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  677</span>}</div>
<div class="ttc" id="agroup___scaling_dirty_html_ga3fade00fb4cf5b937b973128198a7a79"><div class="ttname"><a href="../../d0/da5/group___scaling_dirty.html#ga3fade00fb4cf5b937b973128198a7a79">cleanup_R1</a></div><div class="ttdeci">LIB8STATIC_ALWAYS_INLINE void cleanup_R1()</div><div class="ttdoc">Clean up the r1 register after a series of *LEAVING_R1_DIRTY calls.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d91/scale8_8h_source.html#l00333">scale8.h:333</a></div></div>
<div class="ttc" id="agroup___scaling_dirty_html_ga7386235cada3aca429b189681d2ec56d"><div class="ttname"><a href="../../d0/da5/group___scaling_dirty.html#ga7386235cada3aca429b189681d2ec56d">scale8_LEAVING_R1_DIRTY</a></div><div class="ttdeci">LIB8STATIC_ALWAYS_INLINE uint8_t scale8_LEAVING_R1_DIRTY(uint8_t i, fract8 scale)</div><div class="ttdoc">This version of scale8() does not clean up the R1 register on AVR.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d91/scale8_8h_source.html#l00170">scale8.h:170</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d91/scale8_8h_source.html#l00333">cleanup_R1()</a>, and <a class="el" href="../../db/d91/scale8_8h_source.html#l00170">scale8_LEAVING_R1_DIRTY()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/de3/crgb_8cpp_source.html#l00050">CRGB::blend()</a>, and <a class="el" href="../../da/d2d/colorutils_8cpp_source.html#l00303">nblend()</a>.</p>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 3 --></div>
</div>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 4 --></div>
</div>

</div>
</div>
<a id="gaa3beb6c31141a13c1a047b926d065ca2" name="gaa3beb6c31141a13c1a047b926d065ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3beb6c31141a13c1a047b926d065ca2">&#9670;&#160;</a></span>mod8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t mod8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>m</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the remainder of one unsigned 8-bit value divided by anoter, aka A % M. </p>
<p>Implemented by repeated subtraction, which is very compact, and very fast if A is "probably" less than M. If A is a large multiple of M, the loop has to execute multiple times. However, even in that case, the loop is only two instructions long on AVR, i.e., quick. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>dividend byte </td></tr>
    <tr><td class="paramname">m</td><td>divisor byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>remainder of a / m (i.e. a % m) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00361">361</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  361</span>                                                            {</div>
<div class="line"><span class="lineno">  362</span><span class="preprocessor">#if defined(__AVR__)</span></div>
<div class="line"><span class="lineno">  363</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;L_%=:  sub %[a],%[m]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  364</span>                 <span class="stringliteral">&quot;       brcc L_%=        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  365</span>                 <span class="stringliteral">&quot;       add %[a],%[m]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  366</span>                 : [a] <span class="stringliteral">&quot;+r&quot;</span>(a)</div>
<div class="line"><span class="lineno">  367</span>                 : [m] <span class="stringliteral">&quot;r&quot;</span>(m));</div>
<div class="line"><span class="lineno">  368</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">while</span> (a &gt;= m)</div>
<div class="line"><span class="lineno">  370</span>        a -= m;</div>
<div class="line"><span class="lineno">  371</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">return</span> a;</div>
<div class="line"><span class="lineno">  373</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaf170916b55c493ea038c1d96b338e059" name="gaf170916b55c493ea038c1d96b338e059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf170916b55c493ea038c1d96b338e059">&#9670;&#160;</a></span>mul8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t mul8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>8x8 bit multiplication, with 8-bit result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first byte to multiply </td></tr>
    <tr><td class="paramname">j</td><td>second byte to multiply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the product of i * j </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This does not saturate and may overflow! </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00446">446</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  446</span>                                                            {</div>
<div class="line"><span class="lineno">  447</span><span class="preprocessor">#if MUL8_C == 1</span></div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">return</span> ((<span class="keywordtype">int</span>)i * (<span class="keywordtype">int</span>)(j)) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  449</span><span class="preprocessor">#elif MUL8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  450</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  451</span>        <span class="comment">/* Multiply 8-bit i * 8-bit j, giving 16-bit r1,r0 */</span></div>
<div class="line"><span class="lineno">  452</span>        <span class="stringliteral">&quot;mul %0, %1          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  453</span>        <span class="comment">/* Extract the LOW 8-bits (r0) */</span></div>
<div class="line"><span class="lineno">  454</span>        <span class="stringliteral">&quot;mov %0, r0          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  455</span>        <span class="comment">/* Restore r1 to &quot;0&quot;; it&#39;s expected to always be that */</span></div>
<div class="line"><span class="lineno">  456</span>        <span class="stringliteral">&quot;clr __zero_reg__    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  457</span>        : <span class="stringliteral">&quot;+r&quot;</span>(i)</div>
<div class="line"><span class="lineno">  458</span>        : <span class="stringliteral">&quot;r&quot;</span>(j)</div>
<div class="line"><span class="lineno">  459</span>        : <span class="stringliteral">&quot;r0&quot;</span>, <span class="stringliteral">&quot;r1&quot;</span>);</div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  461</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  462</span><span class="preprocessor">#error &quot;No implementation for mul8 available.&quot;</span></div>
<div class="line"><span class="lineno">  463</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  464</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga622205a211419db7dd1f582923aec68d" name="ga622205a211419db7dd1f582923aec68d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga622205a211419db7dd1f582923aec68d">&#9670;&#160;</a></span>qadd7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> int8_t qadd7 </td>
          <td>(</td>
          <td class="paramtype">int8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add one byte to another, saturating at 0x7F and -0x80. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first byte to add </td></tr>
    <tr><td class="paramname">j</td><td>second byte to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sum of i + j, capped at 0x7F and -0x80 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00064">64</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>                                                          {</div>
<div class="line"><span class="lineno">   65</span><span class="preprocessor">#if QADD7_C == 1</span></div>
<div class="line"><span class="lineno">   66</span>    int16_t t = i + j;</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (t &gt; 127)</div>
<div class="line"><span class="lineno">   68</span>        t = 127;</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (t &lt; -128)</div>
<div class="line"><span class="lineno">   70</span>        t = -128;</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">return</span> t;</div>
<div class="line"><span class="lineno">   72</span><span class="preprocessor">#elif QADD7_AVRASM == 1</span></div>
<div class="line"><span class="lineno">   73</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">   74</span>        <span class="comment">/* First, add j to i, conditioning the V and C flags */</span></div>
<div class="line"><span class="lineno">   75</span>        <span class="stringliteral">&quot;add %0, %1    \n\t&quot;</span></div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>        <span class="comment">/* Now test the V flag.</span></div>
<div class="line"><span class="lineno">   78</span><span class="comment">        If V is clear, we branch to end.</span></div>
<div class="line"><span class="lineno">   79</span><span class="comment">        If V is set, we go ahead and load 0x7F into i.</span></div>
<div class="line"><span class="lineno">   80</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno">   81</span>        <span class="stringliteral">&quot;brvc L_%=     \n\t&quot;</span></div>
<div class="line"><span class="lineno">   82</span>        <span class="stringliteral">&quot;ldi %0, 0x7F  \n\t&quot;</span></div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <span class="comment">/* When both numbers are negative, C is set.</span></div>
<div class="line"><span class="lineno">   85</span><span class="comment">        Adding it to make result negative. */</span></div>
<div class="line"><span class="lineno">   86</span>        <span class="stringliteral">&quot;adc %0, __zero_reg__\n\t&quot;</span></div>
<div class="line"><span class="lineno">   87</span>        <span class="stringliteral">&quot;L_%=: &quot;</span></div>
<div class="line"><span class="lineno">   88</span>        : <span class="stringliteral">&quot;+d&quot;</span>(i) <span class="comment">// r16-r31, restricted by ldi</span></div>
<div class="line"><span class="lineno">   89</span>        : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">   91</span><span class="preprocessor">#elif QADD7_ARM_DSP_ASM == 1</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;qadd8 %0, %0, %1&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(i) : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">   94</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">   95</span><span class="preprocessor">#error &quot;No implementation for qadd7 available.&quot;</span></div>
<div class="line"><span class="lineno">   96</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   97</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga07133b3085824d0fcd4f5086d286c4b5" name="ga07133b3085824d0fcd4f5086d286c4b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07133b3085824d0fcd4f5086d286c4b5">&#9670;&#160;</a></span>qadd8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t qadd8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add one byte to another, saturating at 0xFF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first byte to add </td></tr>
    <tr><td class="paramname">j</td><td>second byte to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sum of i + j, capped at 0xFF </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/d28/_fire2012_8ino-example.html#a24">Fire2012.ino</a>, <a class="el" href="../../dd/d7b/_fire2012_with_palette_8ino-example.html#a13">Fire2012WithPalette.ino</a>, <a class="el" href="../../d1/d35/_noise_plus_palette_8ino-example.html#a36">NoisePlusPalette.ino</a>, and <a class="el" href="../../d6/d86/_pacifica_8ino-example.html#a39">Pacifica.ino</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00031">31</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>                                                             {</div>
<div class="line"><span class="lineno">   32</span><span class="preprocessor">#if QADD8_C == 1</span></div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> t = i + j;</div>
<div class="line"><span class="lineno">   34</span>    <span class="keywordflow">if</span> (t &gt; 255)</div>
<div class="line"><span class="lineno">   35</span>        t = 255;</div>
<div class="line"><span class="lineno">   36</span>    <span class="keywordflow">return</span> t;</div>
<div class="line"><span class="lineno">   37</span><span class="preprocessor">#elif QADD8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">   38</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">   39</span>        <span class="comment">/* First, add j to i, conditioning the C flag */</span></div>
<div class="line"><span class="lineno">   40</span>        <span class="stringliteral">&quot;add %0, %1    \n\t&quot;</span></div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>        <span class="comment">/* Now test the C flag.</span></div>
<div class="line"><span class="lineno">   43</span><span class="comment">        If C is clear, we branch around a load of 0xFF into i.</span></div>
<div class="line"><span class="lineno">   44</span><span class="comment">        If C is set, we go ahead and load 0xFF into i.</span></div>
<div class="line"><span class="lineno">   45</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno">   46</span>        <span class="stringliteral">&quot;brcc L_%=     \n\t&quot;</span></div>
<div class="line"><span class="lineno">   47</span>        <span class="stringliteral">&quot;ldi %0, 0xFF  \n\t&quot;</span></div>
<div class="line"><span class="lineno">   48</span>        <span class="stringliteral">&quot;L_%=: &quot;</span></div>
<div class="line"><span class="lineno">   49</span>        : <span class="stringliteral">&quot;+d&quot;</span>(i) <span class="comment">// r16-r31, restricted by ldi</span></div>
<div class="line"><span class="lineno">   50</span>        : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">   52</span><span class="preprocessor">#elif QADD8_ARM_DSP_ASM == 1</span></div>
<div class="line"><span class="lineno">   53</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;uqadd8 %0, %0, %1&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(i) : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">   55</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">   56</span><span class="preprocessor">#error &quot;No implementation for qadd8 available.&quot;</span></div>
<div class="line"><span class="lineno">   57</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   58</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d0/d4b/crgb_8hpp_source.html#l00031">CRGB::addToRGB()</a>, <a class="el" href="../../d5/d4d/pixel__controller_8h_source.html#l00354">PixelController&lt; RGB_ORDER, LANES, MASK &gt;::dither()</a>, <a class="el" href="../../d5/d4d/pixel__controller_8h_source.html#l00348">PixelController&lt; RGB_ORDER, LANES, MASK &gt;::dither()</a>, <a class="el" href="../../d5/dcb/fire2012_8h_source.html#l00061">fl::Fire2012::draw()</a>, <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00739">fill_raw_2dnoise16into8()</a>, <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00620">fill_raw_noise8()</a>, <a class="el" href="../../da/dda/_noise_plus_palette_8ino_source.html#l00107">fillnoise8()</a>, <a class="el" href="../../d6/d66/noisepalette_8cpp_source.html#l00142">fl::NoisePalette::fillnoise8()</a>, <a class="el" href="../../d4/d26/_fire2012_8ino_source.html#l00076">Fire2012()</a>, <a class="el" href="../../db/d92/_fire2012_with_palette_8ino_source.html#l00060">Fire2012WithPalette()</a>, <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00599">inoise8()</a>, <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00565">inoise8()</a>, <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00521">inoise8()</a>, <a class="el" href="../../d0/d4b/crgb_8hpp_source.html#l00200">operator+()</a>, <a class="el" href="../../d0/d4b/crgb_8hpp_source.html#l00023">CRGB::operator+=()</a>, <a class="el" href="../../dc/d70/pacifica_8h_source.html#l00110">fl::Pacifica::pacifica_add_whitecaps()</a>, <a class="el" href="../../dc/d25/_pacifica_8ino_source.html#l00131">pacifica_add_whitecaps()</a>, <a class="el" href="../../df/d9d/hsv2rgb_8cpp_source.html#l00504">rgb2hsv_approximate()</a>, and <a class="el" href="../../dd/d61/_fx_water_8ino_source.html#l00131">wu_water()</a>.</p>
<div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 5 --></div>
</div>

</div>
</div>
<a id="ga17d0d692de142f4d4379b8cc899eaefb" name="ga17d0d692de142f4d4379b8cc899eaefb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17d0d692de142f4d4379b8cc899eaefb">&#9670;&#160;</a></span>qmul8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t qmul8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>8x8 bit multiplication with 8-bit result, saturating at 0xFF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>first byte to multiply </td></tr>
    <tr><td class="paramname">j</td><td>second byte to multiply </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the product of i * j, capping at 0xFF </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00470">470</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  470</span>                                                             {</div>
<div class="line"><span class="lineno">  471</span><span class="preprocessor">#if QMUL8_C == 1</span></div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="../../d6/de8/noise_8cpp.html#a9ce6a6cfbbe39bd75ce3f245ef426824">p</a> = (unsigned)i * (<span class="keywordtype">unsigned</span>)j;</div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d6/de8/noise_8cpp.html#a9ce6a6cfbbe39bd75ce3f245ef426824">p</a> &gt; 255)</div>
<div class="line"><span class="lineno">  474</span>        <a class="code hl_variable" href="../../d6/de8/noise_8cpp.html#a9ce6a6cfbbe39bd75ce3f245ef426824">p</a> = 255;</div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d6/de8/noise_8cpp.html#a9ce6a6cfbbe39bd75ce3f245ef426824">p</a>;</div>
<div class="line"><span class="lineno">  476</span><span class="preprocessor">#elif QMUL8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  477</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  478</span>        <span class="comment">/* Multiply 8-bit i * 8-bit j, giving 16-bit r1,r0 */</span></div>
<div class="line"><span class="lineno">  479</span>        <span class="stringliteral">&quot;  mul %0, %1          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  480</span>        <span class="comment">/* Extract the LOW 8-bits (r0) */</span></div>
<div class="line"><span class="lineno">  481</span>        <span class="stringliteral">&quot;  mov %0, r0          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  482</span>        <span class="comment">/* If high byte of result is zero, all is well. */</span></div>
<div class="line"><span class="lineno">  483</span>        <span class="stringliteral">&quot;  tst r1              \n\t&quot;</span></div>
<div class="line"><span class="lineno">  484</span>        <span class="stringliteral">&quot;  breq Lnospill_%=    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  485</span>        <span class="comment">/* If high byte of result &gt; 0, saturate to 0xFF */</span></div>
<div class="line"><span class="lineno">  486</span>        <span class="stringliteral">&quot;  ldi %0, 0xFF         \n\t&quot;</span></div>
<div class="line"><span class="lineno">  487</span>        <span class="stringliteral">&quot;Lnospill_%=:          \n\t&quot;</span></div>
<div class="line"><span class="lineno">  488</span>        <span class="comment">/* Restore r1 to &quot;0&quot;; it&#39;s expected to always be that */</span></div>
<div class="line"><span class="lineno">  489</span>        <span class="stringliteral">&quot;  clr __zero_reg__    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  490</span>        : <span class="stringliteral">&quot;+d&quot;</span>(i) <span class="comment">// r16-r31, restricted by ldi</span></div>
<div class="line"><span class="lineno">  491</span>        : <span class="stringliteral">&quot;r&quot;</span>(j)</div>
<div class="line"><span class="lineno">  492</span>        : <span class="stringliteral">&quot;r0&quot;</span>, <span class="stringliteral">&quot;r1&quot;</span>);</div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  494</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  495</span><span class="preprocessor">#error &quot;No implementation for qmul8 available.&quot;</span></div>
<div class="line"><span class="lineno">  496</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  497</span>}</div>
<div class="ttc" id="anoise_8cpp_html_a9ce6a6cfbbe39bd75ce3f245ef426824"><div class="ttname"><a href="../../d6/de8/noise_8cpp.html#a9ce6a6cfbbe39bd75ce3f245ef426824">p</a></div><div class="ttdeci">static uint8_t const p[]</div><div class="ttdef"><b>Definition</b> <a href="../../d6/de8/noise_8cpp_source.html#l00056">noise.cpp:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/de8/noise_8cpp_source.html#l00056">p</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d4b/crgb_8hpp_source.html#l00216">operator*()</a>, and <a class="el" href="../../d0/d4b/crgb_8hpp_source.html#l00070">CRGB::operator*=()</a>.</p>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 6 --></div>
</div>

</div>
</div>
<a id="gae261576a4c8155d6c0ba8615b2d2ecb3" name="gae261576a4c8155d6c0ba8615b2d2ecb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae261576a4c8155d6c0ba8615b2d2ecb3">&#9670;&#160;</a></span>qsub8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t qsub8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subtract one byte from another, saturating at 0x00. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>byte to subtract from </td></tr>
    <tr><td class="paramname">j</td><td>byte to subtract </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>i - j with a floor of 0 </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../df/d28/_fire2012_8ino-example.html#a19">Fire2012.ino</a>, <a class="el" href="../../dd/d7b/_fire2012_with_palette_8ino-example.html#a8">Fire2012WithPalette.ino</a>, <a class="el" href="../../d1/d35/_noise_plus_palette_8ino-example.html#a35">NoisePlusPalette.ino</a>, and <a class="el" href="../../df/d61/_twinkle_fox_8ino-example.html#a41">TwinkleFox.ino</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00103">103</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>                                                             {</div>
<div class="line"><span class="lineno">  104</span><span class="preprocessor">#if QSUB8_C == 1</span></div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordtype">int</span> t = i - j;</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">if</span> (t &lt; 0)</div>
<div class="line"><span class="lineno">  107</span>        t = 0;</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">return</span> t;</div>
<div class="line"><span class="lineno">  109</span><span class="preprocessor">#elif QSUB8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(</div>
<div class="line"><span class="lineno">  112</span>        <span class="comment">/* First, subtract j from i, conditioning the C flag */</span></div>
<div class="line"><span class="lineno">  113</span>        <span class="stringliteral">&quot;sub %0, %1    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        <span class="comment">/* Now test the C flag.</span></div>
<div class="line"><span class="lineno">  116</span><span class="comment">        If C is clear, we branch around a load of 0x00 into i.</span></div>
<div class="line"><span class="lineno">  117</span><span class="comment">        If C is set, we go ahead and load 0x00 into i.</span></div>
<div class="line"><span class="lineno">  118</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno">  119</span>        <span class="stringliteral">&quot;brcc L_%=     \n\t&quot;</span></div>
<div class="line"><span class="lineno">  120</span>        <span class="stringliteral">&quot;ldi %0, 0x00  \n\t&quot;</span></div>
<div class="line"><span class="lineno">  121</span>        <span class="stringliteral">&quot;L_%=: &quot;</span></div>
<div class="line"><span class="lineno">  122</span>        : <span class="stringliteral">&quot;+d&quot;</span>(i) <span class="comment">// r16-r31, restricted by ldi</span></div>
<div class="line"><span class="lineno">  123</span>        : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  125</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  126</span><span class="preprocessor">#error &quot;No implementation for qsub8 available.&quot;</span></div>
<div class="line"><span class="lineno">  127</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  128</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../d4/dd0/_twinkle_fox_8ino_source.html#l00272">coolLikeIncandescent()</a>, <a class="el" href="../../d1/df6/twinklefox_8h_source.html#l00226">fl::TwinkleFox::coolLikeIncandescentFunction()</a>, <a class="el" href="../../d5/dcb/fire2012_8h_source.html#l00061">fl::Fire2012::draw()</a>, <a class="el" href="../../da/dda/_noise_plus_palette_8ino_source.html#l00107">fillnoise8()</a>, <a class="el" href="../../d6/d66/noisepalette_8cpp_source.html#l00142">fl::NoisePalette::fillnoise8()</a>, <a class="el" href="../../d4/d26/_fire2012_8ino_source.html#l00076">Fire2012()</a>, <a class="el" href="../../db/d92/_fire2012_with_palette_8ino_source.html#l00060">Fire2012WithPalette()</a>, <a class="el" href="../../d0/d4b/crgb_8hpp_source.html#l00208">operator-()</a>, <a class="el" href="../../d0/d4b/crgb_8hpp_source.html#l00039">CRGB::operator-=()</a>, <a class="el" href="../../df/d9d/hsv2rgb_8cpp_source.html#l00504">rgb2hsv_approximate()</a>, and <a class="el" href="../../d0/d4b/crgb_8hpp_source.html#l00062">CRGB::subtractFromRGB()</a>.</p>
<div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 7 --></div>
</div>

</div>
</div>
<a id="ga66ecef97faa5f9b92c49766651c5afe9" name="ga66ecef97faa5f9b92c49766651c5afe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66ecef97faa5f9b92c49766651c5afe9">&#9670;&#160;</a></span>sqrt16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gac735bdef91ee1e80778434336a622138">LIB8STATIC</a> uint8_t sqrt16 </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Square root for 16-bit integers. </p>
<p>About three times faster and five times smaller than Arduino's general <code>sqrt</code> on AVR. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00524">524</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  524</span>                                      {</div>
<div class="line"><span class="lineno">  525</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a> &lt;= 1) {</div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a>;</div>
<div class="line"><span class="lineno">  527</span>    }</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>    uint8_t low = 1; <span class="comment">// lower bound</span></div>
<div class="line"><span class="lineno">  530</span>    uint8_t hi, mid;</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a> &gt; 7904) {</div>
<div class="line"><span class="lineno">  533</span>        hi = 255;</div>
<div class="line"><span class="lineno">  534</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  535</span>        hi = (<a class="code hl_variable" href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a> &gt;&gt; 5) + 8; <span class="comment">// initial estimate for upper bound</span></div>
<div class="line"><span class="lineno">  536</span>    }</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  539</span>        mid = (low + hi) &gt;&gt; 1;</div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">if</span> ((uint16_t)(mid * mid) &gt; <a class="code hl_variable" href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a>) {</div>
<div class="line"><span class="lineno">  541</span>            hi = mid - 1;</div>
<div class="line"><span class="lineno">  542</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordflow">if</span> (mid == 255) {</div>
<div class="line"><span class="lineno">  544</span>                <span class="keywordflow">return</span> 255;</div>
<div class="line"><span class="lineno">  545</span>            }</div>
<div class="line"><span class="lineno">  546</span>            low = mid + 1;</div>
<div class="line"><span class="lineno">  547</span>        }</div>
<div class="line"><span class="lineno">  548</span>    } <span class="keywordflow">while</span> (hi &gt;= low);</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>    <span class="keywordflow">return</span> low - 1;</div>
<div class="line"><span class="lineno">  551</span>}</div>
<div class="ttc" id="a_fire2023_8ino_html_a58b753d86c1d8504daa0c369f659f674"><div class="ttname"><a href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a></div><div class="ttdeci">uint32_t x[NUM_LAYERS]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d2c/_fire2023_8ino_source.html#l00080">Fire2023.ino:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d2c/_fire2023_8ino_source.html#l00080">x</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d9d/hsv2rgb_8cpp_source.html#l00504">rgb2hsv_approximate()</a>, and <a class="el" href="../../d5/dd1/math8_8h_source.html#l00553">sqrt8()</a>.</p>
<div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 8 --></div>
</div>

</div>
</div>
<a id="gab7c7302374c7a8d9f4f94a23510b0b07" name="gab7c7302374c7a8d9f4f94a23510b0b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7c7302374c7a8d9f4f94a23510b0b07">&#9670;&#160;</a></span>sqrt8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t sqrt8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00553">553</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  553</span>                                                  {</div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#ga66ecef97faa5f9b92c49766651c5afe9">sqrt16</a>(<a class="code hl_function" href="../../d1/d12/group__intmap.html#gab217a118917847ecb8148cdc41fa6e07">map8_to_16</a>(<a class="code hl_variable" href="../../d8/d2c/_fire2023_8ino.html#a58b753d86c1d8504daa0c369f659f674">x</a>));</div>
<div class="line"><span class="lineno">  555</span>}</div>
<div class="ttc" id="agroup___math_html_ga66ecef97faa5f9b92c49766651c5afe9"><div class="ttname"><a href="#ga66ecef97faa5f9b92c49766651c5afe9">sqrt16</a></div><div class="ttdeci">LIB8STATIC uint8_t sqrt16(uint16_t x)</div><div class="ttdoc">Square root for 16-bit integers.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dd1/math8_8h_source.html#l00524">math8.h:524</a></div></div>
<div class="ttc" id="agroup__intmap_html_gab217a118917847ecb8148cdc41fa6e07"><div class="ttname"><a href="../../d1/d12/group__intmap.html#gab217a118917847ecb8148cdc41fa6e07">map8_to_16</a></div><div class="ttdeci">LIB8STATIC_ALWAYS_INLINE uint16_t map8_to_16(uint8_t x)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d54/intmap_8h_source.html#l00025">intmap.h:25</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d54/intmap_8h_source.html#l00025">map8_to_16()</a>, <a class="el" href="../../d5/dd1/math8_8h_source.html#l00524">sqrt16()</a>, and <a class="el" href="../../d8/d2c/_fire2023_8ino_source.html#l00080">x</a>.</p>
<div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><!-- SVG 9 --></div>
</div>

</div>
</div>
<a id="gad2d87829a6327876eed4482aa515dfa9" name="gad2d87829a6327876eed4482aa515dfa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2d87829a6327876eed4482aa515dfa9">&#9670;&#160;</a></span>sub8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gaf64ff1e31d93cd9d84b5056d99ce8dd4">LIB8STATIC_ALWAYS_INLINE</a> uint8_t sub8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subtract one byte from another, 8-bit result. </p>
<dl class="section note"><dt>Note</dt><dd>This does not saturate and may overflow! </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>byte to subtract from </td></tr>
    <tr><td class="paramname">j</td><td>byte to subtract </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>i - j </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00174">174</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span>                                                            {</div>
<div class="line"><span class="lineno">  175</span><span class="preprocessor">#if SUB8_C == 1</span></div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordtype">int</span> t = i - j;</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">return</span> t;</div>
<div class="line"><span class="lineno">  178</span><span class="preprocessor">#elif SUB8_AVRASM == 1</span></div>
<div class="line"><span class="lineno">  179</span>    <span class="comment">// Subtract j from i, period.</span></div>
<div class="line"><span class="lineno">  180</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;sub %0, %1&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(i) : <span class="stringliteral">&quot;r&quot;</span>(j));</div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  182</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  183</span><span class="preprocessor">#error &quot;No implementation for sub8 available.&quot;</span></div>
<div class="line"><span class="lineno">  184</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  185</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga810cba6ac8e4f5c8a97cd41e9bb113b4" name="ga810cba6ac8e4f5c8a97cd41e9bb113b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga810cba6ac8e4f5c8a97cd41e9bb113b4">&#9670;&#160;</a></span>submod8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da2/group__lib8tion.html#gac735bdef91ee1e80778434336a622138">LIB8STATIC</a> uint8_t submod8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>m</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subtract two numbers, and calculate the modulo of the difference and a third number, M. </p>
<p>In other words, it returns (A-B) % M. It is designed as a compact mechanism for decrementing a "mode" switch and wrapping around back to "mode 0" when the switch goes past the start of the available range. e.g. if you have seven modes, this switches to the previous one and wraps around if needed: </p><div class="fragment"><div class="line">mode = <a class="code hl_function" href="#ga810cba6ac8e4f5c8a97cd41e9bb113b4">submod8</a>( mode, 1, 7);</div>
<div class="ttc" id="agroup___math_html_ga810cba6ac8e4f5c8a97cd41e9bb113b4"><div class="ttname"><a href="#ga810cba6ac8e4f5c8a97cd41e9bb113b4">submod8</a></div><div class="ttdeci">LIB8STATIC uint8_t submod8(uint8_t a, uint8_t b, uint8_t m)</div><div class="ttdoc">Subtract two numbers, and calculate the modulo of the difference and a third number,...</div><div class="ttdef"><b>Definition</b> <a href="../../d5/dd1/math8_8h_source.html#l00425">math8.h:425</a></div></div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>dividend byte </td></tr>
    <tr><td class="paramname">b</td><td>value to subtract from the dividend </td></tr>
    <tr><td class="paramname">m</td><td>divisor byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>remainder of (a - b) / m </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gaa3beb6c31141a13c1a047b926d065ca2" title="Calculate the remainder of one unsigned 8-bit value divided by anoter, aka A % M.">mod8()</a> for notes on performance. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/dd1/math8_8h_source.html#l00425">425</a> of file <a class="el" href="../../d5/dd1/math8_8h_source.html">math8.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  425</span>                                                            {</div>
<div class="line"><span class="lineno">  426</span><span class="preprocessor">#if defined(__AVR__)</span></div>
<div class="line"><span class="lineno">  427</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;       sub %[a],%[b]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  428</span>                 <span class="stringliteral">&quot;L_%=:  sub %[a],%[m]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  429</span>                 <span class="stringliteral">&quot;       brcc L_%=        \n\t&quot;</span></div>
<div class="line"><span class="lineno">  430</span>                 <span class="stringliteral">&quot;       add %[a],%[m]    \n\t&quot;</span></div>
<div class="line"><span class="lineno">  431</span>                 : [a] <span class="stringliteral">&quot;+r&quot;</span>(a)</div>
<div class="line"><span class="lineno">  432</span>                 : [b] <span class="stringliteral">&quot;r&quot;</span>(b), [m] <span class="stringliteral">&quot;r&quot;</span>(m));</div>
<div class="line"><span class="lineno">  433</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  434</span>    a -= b;</div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordflow">while</span> (a &gt;= m)</div>
<div class="line"><span class="lineno">  436</span>        a -= m;</div>
<div class="line"><span class="lineno">  437</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">return</span> a;</div>
<div class="line"><span class="lineno">  439</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Apr 8 2025 12:28:40 for FastLED by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<!-- ... -->
</body>
</html>
